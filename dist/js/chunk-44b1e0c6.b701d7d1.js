(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-44b1e0c6"],{"159b":function(t,e,a){var r=a("da84"),l=a("fdbc"),o=a("17c2"),i=a("9112");for(var n in l){var u=r[n],s=u&&u.prototype;if(s&&s.forEach!==o)try{i(s,"forEach",o)}catch(c){s.forEach=o}}},"17c2":function(t,e,a){"use strict";var r=a("b727").forEach,l=a("a640"),o=a("ae40"),i=l("forEach"),n=o("forEach");t.exports=i&&n?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},"25f0":function(t,e,a){"use strict";var r=a("6eeb"),l=a("825a"),o=a("d039"),i=a("ad6d"),n="toString",u=RegExp.prototype,s=u[n],c=o((function(){return"/a/b"!=s.call({source:"a",flags:"b"})})),d=s.name!=n;(c||d)&&r(RegExp.prototype,n,(function(){var t=l(this),e=String(t.source),a=t.flags,r=String(void 0===a&&t instanceof RegExp&&!("flags"in u)?i.call(t):a);return"/"+e+"/"+r}),{unsafe:!0})},4160:function(t,e,a){"use strict";var r=a("23e7"),l=a("17c2");r({target:"Array",proto:!0,forced:[].forEach!=l},{forEach:l})},"47d8":function(t,e,a){},"4e3c":function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));var r={methods:{onMessage:function(t){this.$alert(t,"请求结果",{confirmButtonText:"确定"})}}}},"9c5e":function(t,e,a){"use strict";a("47d8")},ad6d:function(t,e,a){"use strict";var r=a("825a");t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},fa2f:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.deviceList,"max-height":"500"}},[a("el-table-column",{attrs:{prop:"deviceSn",label:"设备编号",width:"150"}}),a("el-table-column",{attrs:{prop:"deviceId",label:"设备id",width:"150"}}),a("el-table-column",{attrs:{fixed:"left",prop:"deviceName",label:"设备名称",width:"150"}}),a("el-table-column",{attrs:{prop:"deviceModel",label:"设备型号",width:"150"}}),a("el-table-column",{attrs:{prop:"manufacturerId",label:"制造商ID",width:"150"}}),a("el-table-column",{attrs:{prop:"tenantId",label:"租户id",width:"150"}}),a("el-table-column",{attrs:{prop:"productId",label:"产品id",width:"150"}}),a("el-table-column",{attrs:{prop:"imei",label:"imei号",width:"150"}}),a("el-table-column",{attrs:{prop:"imsi",label:"imsi号",width:"150"}}),a("el-table-column",{attrs:{prop:"firmwareVersion",label:"固件版本",width:"150"}}),a("el-table-column",{attrs:{prop:"deviceVersion",label:"设备版本",width:"150"}}),a("el-table-column",{attrs:{prop:"deviceStatus",label:"设备状态",width:"150",filters:t.deviceStatusRules,"filter-method":t.deviceStatusFilter,"filter-placement":"bottom-end"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:t.deviceStatusTag(e)}},[t._v(t._s(e.row.deviceStatus))])]}}])}),a("el-table-column",{attrs:{prop:"autoObserver",label:"是否订阅",width:"150",filters:t.observerRules,"filter-method":t.observerFilter,"filter-placement":"bottom-end"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:t.observerTag(e)}},[t._v(t._s(e.row.autoObserver))])]}}])}),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间",width:"150"}}),a("el-table-column",{attrs:{prop:"createBy",label:"创建者",width:"150"}}),a("el-table-column",{attrs:{prop:"updateTime",label:"更新时间",width:"150"}}),a("el-table-column",{attrs:{prop:"updateBy",label:"更新者",width:"150"}}),a("el-table-column",{attrs:{prop:"activeTime",label:"激活时间",width:"150"}}),a("el-table-column",{attrs:{prop:"logoutTime",label:"注销时间",width:"150"}}),a("el-table-column",{attrs:{prop:"netStatus",label:"设备在线状态",width:"150",filters:t.netStatusRules,"filter-method":t.netStatusFilter,"filter-placement":"bottom-end"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:t.netStatusTag(e)}},[t._v(t._s(e.row.netStatus))])]}}])}),a("el-table-column",{attrs:{prop:"onlineAt",label:"最后上线时间",width:"150"}}),a("el-table-column",{attrs:{prop:"offlineAt",label:"最后下线时间",width:"150"}}),a("el-table-column",{attrs:{prop:"productProtocol",label:"产品协议",width:"150",filters:t.protocolRules,"filter-method":t.protocolFilter,"filter-placement":"bottom-end"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:t.protocolTag(e)}},[t._v(t._s(e.row.netStatus))])]}}])}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handleUpdate(e.row)}}},[t._v("编辑")]),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handleDelete(e.row)}}},[t._v("删除")])]}}])})],1),a("el-pagination",{staticClass:"pagination",attrs:{"current-page":t.pageNow,"page-size":t.pageSize,layout:"total,prev,pager,next,jumper",total:t.total},on:{"current-change":t.handlePageChange,"update:currentPage":function(e){t.pageNow=e},"update:current-page":function(e){t.pageNow=e}}})],1)},l=[],o=(a("4160"),a("d3b7"),a("25f0"),a("159b"),a("4e3c")),i={name:"DeviceList",mixins:[o["a"]],data:function(){return{deviceList:[],deviceStatusRules:[{text:"未注册",value:"未注册"},{text:"已注册",value:"已注册"},{text:"已激活",value:"已激活"},{text:"已注销",value:"已注销"}],observerRules:[{text:"订阅",value:"订阅"},{text:"不订阅",value:"不订阅"}],netStatusRules:[{text:"在线",value:"在线"},{text:"离线",value:"离线"}],protocolRules:[{text:"T-LINK",value:"T-LINK"},{text:"MQTT",value:"MQTT"},{text:"LWM2M",value:"LWM2M"},{text:"TUP",value:"TUP"},{text:"HTTP",value:"HTTP"},{text:"JT/T808",value:"JT/T808"},{text:"TCP",value:"TCP"},{text:"私有TCP",value:"私有TCP"},{text:"私有UDP",value:"私有UDP"},{text:"网关MQTT",value:"网关MQTT"},{text:"南向云",value:"南向云"}],pageNow:0,pageSize:10,total:0,deviceListKey:{},loading:!1}},created:function(){this.deviceListKey=this.$route.query,this.queryDeviceList()},methods:{deviceStatusFilter:function(t,e){this.deviceStatusRules.forEach((function(a,r){if(a.value===t)return e.deviceStatus===r-1}))},deviceStatusTag:function(t){return this.tagType(t.row.deviceStatus+1)},observerFilter:function(t,e){this.observerRules.forEach((function(a,r){if(a.value===t)return e.autoObserver===r}))},observerTag:function(t){return this.tagType(t.row.autoObserver)},netStatusFilter:function(t,e){this.netStatusRules.forEach((function(a,r){if(a.value===t)return e.netStatus===r+1}))},netStatusTag:function(t){return this.tagType(t.row.netStatus)},protocolFilter:function(t,e){this.protocolRules.forEach((function(a,r){if(a.value===t)return e.productProtocol===r+1}))},protocolTag:function(t){return this.tagType(t.row.productProtocol)},tagType:function(t){switch(t){case 0:return"primary";case 1:return"success";case 2:return"info";case 3:return"danger";case 4:return"warning";default:return"primary"}},handleUpdate:function(t){this.$router.push({name:"update_device",params:{d:t}})},handleDelete:function(t){this.$router.push({name:"delete_device",params:{d:t}})},handlePageChange:function(t){this.pageNow=t,this.deviceListKey.page=t.toString(),this.queryDeviceList()},queryDeviceList:function(){var t=this;this.loading=!0,this.$http({url:"/operations/device/queryList",params:this.deviceListKey,method:"get"}).then((function(e){t.loading=!1,e.data&&200===e.status?(t.onMessage("请求成功: "+e.data.code+" "+e.data.message),console.log(e.data.result),t.deviceList=e.data.result.list,t.pageNow=e.data.result.pageNum,t.pageSize=e.data.result.pageSize,t.total=e.data.result.total):t.onMessage("请求失败: "+e.data.message)}))}}},n=i,u=(a("9c5e"),a("2877")),s=Object(u["a"])(n,r,l,!1,null,"37d3770a",null);e["default"]=s.exports}}]);